# 个人博客搭建完整指南

## 概述
本指南将带您使用 Node.js、GitHub 和 Git 环境搭建一个现代化的个人博客。我们将使用 Hexo 静态博客生成器 + GitHub Pages 的方案。

## 前提条件
- ✅ Node.js 环境
- ✅ Git 工具
- ✅ GitHub 账户

## 方案选择

### 推荐方案：Hexo + GitHub Pages
- **优点**：快速搭建、主题丰富、SEO 友好、免费托管
- **适用场景**：个人博客、技术分享、文档网站

### 备选方案：Next.js + Vercel
- **优点**：更现代的技术栈、更好的性能、更灵活的定制
- **适用场景**：需要更多定制功能的博客

## 方案一：使用 Hexo 搭建博客

### 1. 安装 Hexo
```bash
# 全局安装 hexo-cli
npm install -g hexo-cli

# 创建博客项目
hexo init my-blog
cd my-blog

# 安装依赖
npm install
```

### 2. 基本配置
编辑 `_config.yml` 文件：
```yaml
# 网站配置
title: 我的个人博客
subtitle: 记录技术与生活
description: 这是我的个人博客，用于分享技术文章和生活感悟
author: 你的名字
language: zh-CN
timezone: Asia/Shanghai

# URL 配置
url: https://你的用户名.github.io
root: /
permalink: :year/:month/:day/:title/

# 主题配置
theme: landscape  # 默认主题，可以更换

# 部署配置
deploy:
  type: git
  repo: https://github.com/你的用户名/你的用户名.github.io.git
  branch: main
```

### 3. 创建文章
```bash
# 创建新文章
hexo new post "我的第一篇博客"

# 创建新页面
hexo new page "about"
```

### 4. 本地预览
```bash
# 生成静态文件
hexo generate

# 启动本地服务器
hexo server
```
访问 `http://localhost:4000` 查看博客

### 5. 部署到 GitHub Pages

#### 5.1 创建 GitHub 仓库
1. 在 GitHub 创建名为 `你的用户名.github.io` 的仓库
2. 仓库必须是 public 的

#### 5.2 安装部署插件
```bash
npm install hexo-deployer-git --save
```

#### 5.3 配置部署
确保 `_config.yml` 中的 deploy 配置正确：
```yaml
deploy:
  type: git
  repo: https://github.com/你的用户名/你的用户名.github.io.git
  branch: main
```

#### 5.4 部署
```bash
# 清理缓存
hexo clean

# 生成并部署
hexo deploy -g
```

### 6. 自定义域名（可选）
如果您有自定义域名：
1. 在 `source` 目录创建 `CNAME` 文件
2. 文件内容为您的域名，如：`blog.yourdomain.com`
3. 在域名服务商配置 DNS 记录

## 方案二：使用 Next.js 搭建博客

### 1. 创建 Next.js 项目
```bash
npx create-next-app@latest my-blog
cd my-blog
```

### 2. 安装必要依赖
```bash
npm install gray-matter remark remark-html
```

### 3. 创建博客结构
```
my-blog/
├── pages/
│   ├── index.js
│   ├── blog/
│   │   ├── [slug].js
│   │   └── index.js
├── posts/
│   ├── first-post.md
│   └── second-post.md
└── lib/
    └── posts.js
```

### 4. 配置文章处理
创建 `lib/posts.js`：
```javascript
import fs from 'fs'
import path from 'path'
import matter from 'gray-matter'

const postsDirectory = path.join(process.cwd(), 'posts')

export function getAllPosts() {
  const fileNames = fs.readdirSync(postsDirectory)
  
  const allPostsData = fileNames.map((fileName) => {
    const slug = fileName.replace(/\.md$/, '')
    const fullPath = path.join(postsDirectory, fileName)
    const fileContents = fs.readFileSync(fullPath, 'utf8')
    const matterResult = matter(fileContents)

    return {
      slug,
      ...matterResult.data,
    }
  })

  return allPostsData.sort((a, b) => {
    if (a.date < b.date) {
      return 1
    } else {
      return -1
    }
  })
}

export function getPostData(slug) {
  const fullPath = path.join(postsDirectory, `${slug}.md`)
  const fileContents = fs.readFileSync(fullPath, 'utf8')
  const matterResult = matter(fileContents)

  return {
    slug,
    content: matterResult.content,
    ...matterResult.data,
  }
}
```

### 5. 部署到 Vercel
```bash
# 安装 Vercel CLI
npm install -g vercel

# 登录并部署
vercel --prod
```

## 博客管理

### 文章编写
1. **Markdown 语法**：使用标准 Markdown 语法编写文章
2. **Front Matter**：在文章开头添加元数据
   ```yaml
   ---
   title: 文章标题
   date: 2024-01-01
   tags: [标签1, 标签2]
   categories: 分类
   ---
   ```

### 主题定制
1. **Hexo 主题**：
   ```bash
   # 安装流行主题
   npm install hexo-theme-next
   
   # 在 _config.yml 中配置
   theme: next
   ```

2. **自定义样式**：修改主题的 CSS 文件或创建自定义样式

### SEO 优化
1. **安装 SEO 插件**：
   ```bash
   npm install hexo-generator-sitemap
   npm install hexo-generator-feed
   ```

2. **配置 sitemap**：
   ```yaml
   sitemap:
     path: sitemap.xml
   
   feed:
     type: atom
     path: atom.xml
   ```

## 进阶功能

### 1. 评论系统
- **Disqus**：国外用户友好
- **Gitalk**：基于 GitHub Issues
- **Valine**：轻量级评论系统

### 2. 数据统计
- **Google Analytics**：详细的访问统计
- **百度统计**：适合国内用户

### 3. 搜索功能
```bash
# 安装搜索插件
npm install hexo-generator-search
```

### 4. 图片优化
```bash
# 安装图片处理插件
npm install hexo-imagemin
```

## 维护和更新

### 定期任务
1. **备份**：定期备份源代码到 GitHub
2. **更新**：更新 Hexo 和主题版本
3. **监控**：监控网站访问情况

### 自动化部署
使用 GitHub Actions 自动部署：
```yaml
name: Deploy Blog

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '16'
        
    - name: Install dependencies
      run: npm install
      
    - name: Generate static files
      run: hexo generate
      
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./public
```

## 常见问题解决

### 1. 部署失败
- 检查仓库名称是否正确
- 确认 Git 配置是否正确
- 检查 GitHub Pages 设置

### 2. 主题不显示
- 确认主题安装正确
- 检查 `_config.yml` 中的主题配置
- 清理缓存后重新生成

### 3. 图片不显示
- 检查图片路径是否正确
- 确认图片在 `source` 目录中
- 使用相对路径引用图片

## 推荐资源

### 主题推荐
- **NexT**：功能丰富、易于配置
- **Fluid**：现代化设计、响应式布局
- **Butterfly**：美观的动画效果

### 插件推荐
- **hexo-admin**：可视化管理界面
- **hexo-generator-feed**：RSS 订阅
- **hexo-wordcount**：字数统计

### 学习资源
- [Hexo 官方文档](https://hexo.io/zh-cn/docs/)
- [Next.js 官方文档](https://nextjs.org/docs)
- [Markdown 语法指南](https://www.markdownguide.org/)

## 总结

搭建个人博客是一个很好的学习和分享平台。建议：
1. 先使用 Hexo 快速搭建，熟悉博客运作
2. 定期更新内容，保持博客活跃
3. 逐步学习定制化，提升博客体验
4. 与其他博主交流，参与技术社区

开始您的博客之旅吧！记录下您的技术成长和生活感悟。